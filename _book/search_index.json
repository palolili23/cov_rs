[
["index.html", "Data cleaning guide for the Rotterdam Study Chapter 1 About", " Data cleaning guide for the Rotterdam Study Paloma Rojas Saunero, Eline Vinke 2019-10-15 Chapter 1 About Data cleaning (wrangling) will be the first to face after obtaining the raw data for your research. To facilitate this process, we want to provide a guide that describes how to approach the raw data from the Rotterdam study and provides the corresponding code to approach each variable. The intention is that all students becoming familiar with the data and develop the essencial skills for a reproducible data cleaning. We will use the tidyverse language and ecosystem. If you are not familiar with the tidyverse and the pipe operator %&gt;% you will want to read this book. This book contains a description of the essencial tidyverse tools. Note: If you find any bug, typo, have suggestions, questions or you want to include a chapter in this guide please get in contact with us! We want to make this as collaborative as possible. Paloma: l.rojassaunero@erasmusmc.nl Eline: e.vinke@erasmusmc.nl Github repository: https://github.com/palolili23/cov_rs "],
["intro.html", "Chapter 2 Introduction 2.1 Prerequisites 2.2 Rotterdam study data structure 2.3 Overview of the process to clean a variable", " Chapter 2 Introduction 2.1 Prerequisites Install R and Rstudio IDE Install and open the following packages: tidyverse, rio, here. Create an R project with a folder for your raw data (We will name this folder 00_raw_data) Data can be accessed from the following: link 2.2 Rotterdam study data structure We followed the structure of the visit process to name the cohorts and visits: In the following structure: var1 var2 var3 var4 var5 var6 RS-I-1 RS-I-2 RS-I-3 RS-I-4 RS-I-5 RS-I-6 NA NA RS-II-1 (ep) RS-II-2 RS-II-3 RS-II-4 NA NA NA RS-III-1 (ej) RS-III-2 RS-III-3 We name each variable in the same way over the waves and end with the number that corresponds to the visit. 2.3 Overview of the process to clean a variable Each small chapter will provide the code to clean each of the variables that are oftenly used as covariates in any data analysis. Since the name of the variables could have changed in each visit, and data is arranged in different ways, we decided to create a systematic flow of how the cleaning process is one covariate at a time, for all visits, for all cohorts. The usuals steps will include: Import datasets for all the visits, for all cohorts. Note that we use the here package to specify the folder/subfolder and file we want to import. We do this to avoid specifying the directory. This practice helps the reproducibility of the code as mentioned in the following link We will always include the subfix representing the cohort and visit. For example: rs1_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;Ergo1ResponseDetail_(22-jan-2015)_excerpt.sav&quot;)) rs1_2 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;Ergo2ResponseDetail_(22-jan-2015)_excerpt.sav&quot;)) rs1_3 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;e3_(3)_RESPONS_(22-feb-2016)_excerpt.sav&quot;)) rs1_4 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;e4_(4)_RESPONS_(12-mar-2018)_excerpt.sav&quot;)) rs1_5 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;e5_(5)_RESPONS_(22-jun-2016)_excerpt.sav&quot;)) rs1_6 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;e6_(6)_RESPONS_(10-feb-2017)_EXCERPT.sav&quot;)) rs2_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;ep_(1)_RESPONS_(15-jan-2019)_excerpt.sav&quot;)) rs3_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;ej_(1)_RESPONS_(04-apr-2016)_excerpt.sav&quot;)) We will split the datasets that have data for more than one cohort, and name them by their respective cohort - visit. For example: # Separate rs1_4 into rs1, rs2 rs1_4 &lt;- rs1_4 %&gt;% filter(rs_cohort == 1) rs2_2 &lt;- rs1_4 %&gt;% filter(rs_cohort == 2) Merge the data for all visits, by cohort: rs1 &lt;- list(rs1_1, rs1_2, rs1_3, rs1_4, rs1_5, rs1_6) rs1_vis &lt;- reduce(rs1, left_join, by = c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) Select the specific variables from the combined dataset, by cohort and rename for easier comprehension, by cohort: rs1_bmi &lt;- rs1_bmi%&gt;% select(ergoid, rs_cohort, e1_aahgt, e1_aawgt, e2_229, e2_230, e3_229, e3_230, e4_229, e4_230, e5_229, e5_230,e6_229,e6_230) %&gt;% rename(hgt1 = e1_aahgt, hgt2 = e2_229, hgt3 = e3_229, hgt4 = e4_229, hgt5 = e5_229, hgt6 = e6_229, wgt1 = e1_aawgt, wgt2 = e2_230, wgt3 = e3_230, wgt4 = e4_230, wgt5 = e5_230, wgt6 = e6_230) Bind, if necessary, the cohorts. Since the variable names are consistent through the datasets. rs_bmi &lt;- rs1_bmi %&gt;% bind_rows(rs2_bmi) %&gt;% bind_rows(rs3_bmi) Create new variables (Example) rs_bmi &lt;- rs_bmi %&gt;% mutate(bmi1 = wgt1/((hgt1/100)^2), bmi2 = wgt2/((hgt2/100)^2), bmi3 = wgt3/((hgt3/100)^2), bmi4 = wgt4/((hgt4/100)^2), bmi5 = wgt5/((hgt5/100)^2), bmi6 = wgt6/((hgt6/100)^2)) #Note that we could have created a function, but the intention of this code is to make adaptable. Export the variable to a clean_data folder. export(bmi, here::here(\"02_clean_data\", \"bmi.Rdata\")) Merge variables by ergoid for a complete folder "],
["basic.html", "Chapter 3 ERGO Basics", " Chapter 3 ERGO Basics Source: https://epi-wiki.erasmusmc.nl/wiki/ergowiki/index.php/Ergobasics This data only contains baseline information for the three cohorts, so we can skip steps 2,3 and 6 described in 2 Import data basic &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;basic&quot;, &quot;RoterdamStudy_Basics2014.sav&quot;)) Select variables: basic &lt;- basic %&gt;% select(ergoid, rs_cohort, sex, date_of_birth, startdat) Transform variables: basic &lt;- basic %&gt;% mutate(age_0 = round(as.numeric(as.period((date_of_birth %--% startdat ), &quot;years&quot;), &quot;years&quot;), 2), sex = labelled(sex, c(Female = 1, Male = 0))) Export: export(basic, here::here(&quot;02_clean_data&quot;, &quot;basic.Rdata&quot;)) "],
["vital.html", "Chapter 4 ERGO Vital status", " Chapter 4 ERGO Vital status Source: https://epi-wiki.erasmusmc.nl/wiki/ergowiki/index.php/Fp_mortality This data only contains baseline information for the three cohorts, so we can skip steps 2,3 and 6 described in 2 Import data vital_status &lt;- import(here::here(&quot;00_raw_data&quot;, &quot;vital_status&quot;, &quot;fp_VitalStatus_(24-MAY-2018).sav&quot;)) Select and rename variables: vital_status &lt;- vital_status %&gt;% select(ergoid, fp_mortdat, fp_censordate) %&gt;% rename(mort_date = fp_mortdat, censor_date = fp_censordate) Export: export(vital_status, here::here(&quot;02_clean_data&quot;, &quot;vital_status.Rdata&quot;)) "],
["visit.html", "Chapter 5 Visit dates", " Chapter 5 Visit dates Source: https://epi-wiki.erasmusmc.nl/wiki/ergowiki/index.php/Response_data Import data for all cohorts rs1_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;Ergo1ResponseDetail_(22-jan-2015)_excerpt.sav&quot;)) rs1_2 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;Ergo2ResponseDetail_(22-jan-2015)_excerpt.sav&quot;)) rs1_3 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;e3_(3)_RESPONS_(22-feb-2016)_excerpt.sav&quot;)) rs1_4 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;e4_(4)_RESPONS_(12-mar-2018)_excerpt.sav&quot;)) rs1_5 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;e5_(5)_RESPONS_(22-jun-2016)_excerpt.sav&quot;)) rs1_6 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;e6_(6)_RESPONS_(10-feb-2017)_EXCERPT.sav&quot;)) rs2_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;ep_(1)_RESPONS_(15-jan-2019)_excerpt.sav&quot;)) rs3_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;visits&quot;, &quot;ej_(1)_RESPONS_(04-apr-2016)_excerpt.sav&quot;)) Split datasets: #1. Separate rs1_4 into rs1, rs2 rs2_2 &lt;- rs1_4 %&gt;% filter(rs_cohort == 2) rs1_4 &lt;- rs1_4 %&gt;% filter(rs_cohort == 1) #2. Separate rs1_5 into rs1, rs2, rs3 rs3_2 &lt;- rs1_5 %&gt;% filter(rs_cohort == 3) rs2_3 &lt;- rs1_5 %&gt;% filter(rs_cohort == 2) rs1_5 &lt;- rs1_5 %&gt;% filter(rs_cohort == 1) #3. rs1_6 into rs1 and rs2 rs2_4 &lt;- rs1_6 %&gt;% filter(rs_cohort == 2) rs1_6 &lt;- rs1_6 %&gt;% filter(rs_cohort == 1) Merge the data for all visits, by cohort: ### Merge RSI rs1 &lt;- list(rs1_1, rs1_2, rs1_3, rs1_4, rs1_5, rs1_6) rs1_vis &lt;- reduce(rs1, left_join, by = c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) ### NOTE: RS1_2 had only 1 center visit and no home interview! ### Merge RS2 rs2 &lt;- list(rs2_1, rs2_2, rs2_3, rs2_4) rs2_vis &lt;- reduce(rs2, left_join, by = c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) ### Merge RS3 rs3_vis &lt;- rs3_1 %&gt;% left_join(rs3_2, by = c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) Select and rename the specific variables from the combined dataset, by cohort: In this case we selected the variables for the interview date. rs1_interview &lt;- rs1_vis %&gt;% select(ergoid, rs_cohort, e1_aintdat, e2_bcendat, e3_3493, e4_3493, e5_3493, e6_3493) %&gt;% rename(e1 = e1_aintdat, e2 = e2_bcendat, e3 = e3_3493, e4 = e4_3493, e5 = e5_3493, e6 = e6_3493) rs2_interview &lt;- rs2_vis %&gt;% select(ergoid, rs_cohort , ep_3493, e4_3493, e5_3493, e6_3493) %&gt;% rename(e3 = ep_3493, e4 = e4_3493, e5 = e5_3493, e6 = e6_3493) rs3_interview &lt;- rs3_vis %&gt;% select(ergoid, rs_cohort , ej_3493, e5_3493) %&gt;% rename(e4 = ej_3493, e5 = e5_3493) Bind, if necessary, the cohorts. Since the variable names are consistent through the datasets. visits &lt;- rs1_interview %&gt;% bind_rows(rs2_interview) %&gt;% bind_rows(rs3_interview) Export the variable to a clean_data folder. export(visits, here::here(&quot;02_clean_data&quot;, &quot;visits.Rdata&quot;)) "],
["bmi.html", "Chapter 6 BMI, weight and height", " Chapter 6 BMI, weight and height Source: https://epi-wiki.erasmusmc.nl/wiki/ergowiki/index.php/E1_anthropo https://epi-wiki.erasmusmc.nl/wiki/ergowiki/index.php/E2_anthropo https://epi-wiki.erasmusmc.nl/wiki/ergowiki/index.php/E5_anthropo Import data for all cohorts bmi1_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;anthro&quot;, &quot;/e1_ANTHROPO_(15-jun-2011).sav&quot;)) bmi1_2 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;anthro&quot;, &quot;/e2_(2)_ANTHROPO_(26-apr-2011).sav&quot;)) bmi1_3 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;anthro&quot;, &quot;/e3_(3)_HARTVAAT_(25-feb-2013)_ANTHROPO.sav&quot;)) bmi1_4 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;anthro&quot;, &quot;/e4_(4)_UITSCHR_(06-nov-2014)_ANTHROPO-PART.sav&quot;)) bmi1_5 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;anthro&quot;, &quot;/e5_(5)_ANTHROPO_(10-dec-2015).sav&quot;)) bmi1_6 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;anthro&quot;, &quot;/e6_(6)_ANTHROPO_(25-apr-2017).sav&quot;)) bmi2_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;anthro&quot;, &quot;/ep_(1)_LICHONDZ_(18-oct-2012)_ANTHROPO.sav&quot;)) bmi3_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;anthro&quot;, &quot;/ej_(1)_UITSCHR_(23-feb-2010)_ANTHROPO-PART.sav&quot;)) Split datasets: # 1. Separate bmi1_4 into rs1 and rs2 bmi2_2 &lt;- bmi1_4 %&gt;% filter(rs_cohort == 2) bmi1_4 &lt;- bmi1_4 %&gt;% filter(rs_cohort == 1) # 2. Separate bmi1_5 into rs1, rs2, rs3 bmi3_2 &lt;- bmi1_5 %&gt;% filter(rs_cohort == 3) bmi2_3 &lt;- bmi1_5 %&gt;% filter(rs_cohort == 2) bmi1_5 &lt;- bmi1_5 %&gt;% filter(rs_cohort == 1) # 3. Separate bmi1_6 into rs1 and rs2 bmi1_6 &lt;- bmi1_6 %&gt;% filter(rs_cohort ==1) bmi2_4 &lt;- bmi1_6 %&gt;% filter(rs_cohort ==2) Merge the data for all visits, by cohort: # Merge cohorts for rs1 bmi1 &lt;- list(bmi1_1, bmi1_2, bmi1_3, bmi1_4, bmi1_5, bmi1_6) rs1_bmi &lt;- reduce(bmi1, left_join, by = c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) # Merge cohorts for rs2 bmi2 &lt;- list(bmi2_1, bmi2_2, bmi2_3, bmi2_4) rs2_bmi &lt;- reduce(bmi2, left_join, by = c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) # Merge cohorts for rs3 bmi3 &lt;- bmi3_1 %&gt;% left_join(bmi3_2, by= c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) Select and rename the specific variables from the combined dataset, by cohort: In this case we selected the variables for the interview date. rs1_bmi &lt;- rs1_bmi%&gt;% select(ergoid, rs_cohort, e1_aahgt, e1_aawgt, e2_229, e2_230, e3_229, e3_230, e4_229, e4_230, e5_229, e5_230,e6_229,e6_230) %&gt;% rename(hgt1 = e1_aahgt, hgt2 = e2_229, hgt3 = e3_229, hgt4 = e4_229, hgt5 = e5_229, hgt6 = e6_229, wgt1 = e1_aawgt, wgt2 = e2_230, wgt3 = e3_230, wgt4 = e4_230, wgt5 = e5_230, wgt6 = e6_230) rs2_bmi &lt;- rs2_bmi%&gt;% select(ergoid, rs_cohort, ep_229, ep_230, e4_229, e4_230, e5_229, e5_230,e6_229,e6_230) %&gt;% rename(hgt3 = ep_229, hgt4 = e4_229, hgt5 = e5_229, hgt6 = e6_229, wgt3 = ep_230, wgt4 = e4_230, wgt5 = e5_230, wgt6 = e6_230) rs3_bmi &lt;- bmi3%&gt;% select(ergoid, rs_cohort, ej_229, ej_230, e5_229, e5_230) %&gt;% rename(hgt4 = ej_229, hgt5 = e5_229, wgt4 = ej_230, wgt5 = e5_230) Bind, if necessary, the cohorts. Since the variable names are consistent through the datasets. rs_bmi &lt;- rs1_bmi %&gt;% bind_rows(rs2_bmi) %&gt;% bind_rows(rs3_bmi) Create bmi variable rs_bmi &lt;- rs_bmi %&gt;% mutate(bmi1 = wgt1/((hgt1/100)^2), bmi2 = wgt2/((hgt2/100)^2), bmi3 = wgt3/((hgt3/100)^2), bmi4 = wgt4/((hgt4/100)^2), bmi5 = wgt5/((hgt5/100)^2), bmi6 = wgt6/((hgt6/100)^2)) Export the variable to a clean_data folder. export(rs_bmi, here::here(&quot;02_clean_data&quot;, &quot;bmi.Rdata&quot;)) "],
["education.html", "Chapter 7 Education", " Chapter 7 Education Source: https://epi-wiki.erasmusmc.nl/wiki/ergowiki/index.php/Education This data only contains baseline information for the three cohorts, so we can skip steps 2,3 and 6 described in 2 Import data educ &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;education&quot;, &quot;Education RS-I-II-III (UNESCO class)_(12-MAR-2015).sav&quot;)) Rename variable: educ &lt;- educ %&gt;% rename(education = ses_UNESCO_recoded) Add labels to variable educ &lt;- educ %&gt;% mutate(education = labelled( education, c( `Primary education` = 0, `lower or intermediate general education OR lower vocational education` = 1, `intermediate vocational education OR higher general education` = 2, `higher vocational education OR university` = 3) )) Export: export(educ, here::here(&quot;02_clean_data&quot;, &quot;educ.Rdata&quot;)) "],
["alcohol.html", "Chapter 8 Alcohol", " Chapter 8 Alcohol Source: https://epi-wiki.erasmusmc.nl/wiki/ergowiki/index.php/Alcohol Import data for all cohorts oh1_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;alcohol&quot;, &quot;e1_FFQ_AlcoholGramPerday_inclGLAZEN.sav&quot;)) oh1_2 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;alcohol&quot;, &quot;e2_intvw_Alcoholperday_25-10-2013.sav&quot;)) oh1_3 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;alcohol&quot;, &quot;e3_intvw_Alcoholperday_24-10-2017.sav&quot;)) oh1_4 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;alcohol&quot;, &quot;e4_intvw_Alcoholperday_22-11-2013.sav&quot;)) oh1_5 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;alcohol&quot;, &quot;e5intvw_Alcoholperday_11-07-2014.sav&quot;)) oh1_6 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;alcohol&quot;, &quot;e6_AlcoholGramsDay_FFQ_energy_(13-dec-2018).sav&quot;)) oh2_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;alcohol&quot;, &quot;ep_intvw_Alcoholperday_22-11-2013.sav&quot;)) oh3_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;alcohol&quot;, &quot;ej_intvw_ALCOHOLGRAMSPERDAY_(14072014).sav&quot;)) Split datasets: # 1. Separate oh1_4 into rs1, rs2 oh2_2 &lt;- oh1_4 %&gt;% filter(rs_cohort == 2) oh1_4 &lt;- oh1_4 %&gt;% filter(rs_cohort == 1) # 2. Separate oh1_5 into rs1, rs2, rs3 oh3_2 &lt;- oh1_5 %&gt;% filter(rs_cohort == 3) oh2_3 &lt;- oh1_5 %&gt;% filter(rs_cohort == 2) oh1_5 &lt;- oh1_5 %&gt;% filter(rs_cohort == 1) # 3. Separate oh1_6 into rs1 and rs2 oh1_6 &lt;- oh1_6 %&gt;% filter(rs_cohort == 1) oh2_4 &lt;- oh1_6 %&gt;% filter(rs_cohort == 2) Merge the data for all visits, by cohort: ### Merge RSI oh1 &lt;- list(oh1_1, oh1_2, oh1_3, oh1_4, oh1_5, oh1_6) rs1_oh &lt;- reduce(oh1, left_join, by = c(&quot;ergoid&quot;)) ### Merge RS2 oh2 &lt;- list(oh2_1, oh2_2, oh2_3, oh2_4) rs2_oh &lt;- reduce(oh2, left_join, by = c(&quot;ergoid&quot;)) ### Merge RS3 oh3 &lt;- list(oh3_1, oh3_2) rs3_oh &lt;- reduce(oh3, left_join, by = c(&quot;ergoid&quot;)) Select and rename the specific variables from the combined dataset, by cohort: rs1_oh &lt;- rs1_oh %&gt;% select(ergoid, antalc, e2_Alc_Tot, e3_Alc_Tot, e4_Alc_Tot, e5_Alc_tot, e6_alc_item_sum) %&gt;% rename(oh1 = antalc, oh2 = e2_Alc_Tot, oh3 = e3_Alc_Tot, oh4 = e4_Alc_Tot, oh5 = e5_Alc_tot, oh6 = e6_alc_item_sum) rs2_oh &lt;- rs2_oh %&gt;% select(ergoid, ep_Alc_Tot, e4_Alc_Tot, e5_Alc_tot,e6_alc_item_sum) %&gt;% rename( oh3 = ep_Alc_Tot, oh4 = e4_Alc_Tot, oh5 = e5_Alc_tot, oh6 = e6_alc_item_sum) rs3_oh &lt;- rs3_oh %&gt;% select(ergoid, ej_Alc_tot, e5_Alc_tot) %&gt;% rename( oh4 = ej_Alc_tot, oh5 = e5_Alc_tot) Bind , the cohorts. Since the variable names are consistent through the datasets. alcohol &lt;- rs1_oh %&gt;% bind_rows(rs2_oh) %&gt;% bind_rows(rs3_oh) Export the variable to a clean_data folder. export(alcohol, here::here(&quot;02_clean_data&quot;, &quot;alcohol.Rdata&quot;)) "],
["smoke.html", "Chapter 9 Smoke anything", " Chapter 9 Smoke anything Source: https://epi-wiki.erasmusmc.nl/wiki/ergowiki/index.php/Smoking Import data for all cohorts smoke1_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;e1_intvw_SMOKING_(23-nov-2011).sav&quot;)) smoke1_2 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;e2_intvw_SMOKING_(23-nov-2011).sav&quot;)) smoke1_3 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;e3_intvw_SMOKING_(11-nov-2011).sav&quot;)) smoke1_4 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;e4_intvw_SMOKING_(04-nov-2011).sav&quot;)) smoke1_5 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;e5_intvw_SMOKING_(04-sep-2014).sav&quot;)) smoke2_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;ep_intvw_SMOKING_(30-sep-2011).sav&quot;)) smoke3_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;ej_intvw_SMOKING_(28-mar-2011).sav&quot;)) smoke1_6 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;e6_intvw_SMOKING_(20-feb-2017).sav&quot;)) Split datasets: # 1. Separate smoke1_4 into rs1, rs2 smoke2_2 &lt;- smoke1_4 %&gt;% filter(rs_cohort == 2) smoke1_4 &lt;- smoke1_4 %&gt;% filter(rs_cohort == 1) # 2. Separate smoke1_5 into rs1, rs2, rs3 smoke3_2 &lt;- smoke1_5 %&gt;% filter(rs_cohort == 3) smoke2_3 &lt;- smoke1_5 %&gt;% filter(rs_cohort == 2) smoke1_5 &lt;- smoke1_5 %&gt;% filter(rs_cohort == 1) # 3. Separate smoke1_6 into rs1 and rs2 smoke1_6 &lt;- smoke1_6 %&gt;% filter(rs_cohort == 1) smoke2_4 &lt;- smoke1_6 %&gt;% filter(rs_cohort == 2) Merge the data for all visits, by cohort: ### Merge RSI smoke1 &lt;- list(smoke1_1, smoke1_2, smoke1_3, smoke1_4, smoke1_5, smoke1_6) rs1_smoke &lt;- reduce(smoke1, left_join, by = c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) ### Merge RS2 smoke2 &lt;- list(smoke2_1, smoke2_2, smoke2_3, smoke2_4) rs2_smoke &lt;- reduce(smoke2, left_join, by = c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) ### Merge RS3 rs3_smoke &lt;- smoke3_1 %&gt;% left_join(smoke3_2, by = c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) Create variable smoke (0: never, 1: former, 2: current, NA) using the multiple questions related to smoking habits. rs1_smoke &lt;- rs1_smoke %&gt;% mutate( smoke1 = ifelse((e1_ai7_20 == 0 &amp; e1_ai7_30 == 0), 0, NA), smoke1 = ifelse((e1_ai7_20 == 0 &amp; e1_ai7_30 == 1), 1, smoke1), smoke1 = ifelse(e1_ai7_20 == 1, 2, smoke1), smoke2 = ifelse(e2_b0cg == 3 &amp; e2_b0pi == 3 &amp; e2_b0ct == 3, 0, NA), smoke2 = ifelse((e2_b0cg == 2 | e2_b0pi == 2 | e2_b0ct == 2), 1, smoke2), smoke2 = ifelse((e2_b0cg == 1 | e2_b0pi == 1 | e2_b0ct == 1), 2, smoke2), smoke3 = ifelse(e3_cicg == 0 &amp; e3_cipi == 0 &amp; e3_cict == 0 &amp; e3_cictps == 0, 0, NA), smoke3 = ifelse(( e3_cicg == 1 | e3_cipi == 1 | (e3_cict == 0 &amp; e3_cictps == 1) ), 1, smoke3), smoke3 = ifelse((e3_cicg == 2 | e3_cicg == 3 | e3_cipi == 2 | e3_cipi == 3 | e3_cict == 1), 2, smoke3 ), smoke4 = ifelse(e4_dicg == 0 &amp; e4_dipi == 0 &amp; e4_dict == 0, 0, NA), smoke4 = ifelse(( e4_dicg == 1 | e4_dipi == 1 | e4_dict == 2 | e4_dict == 3 ), 1, smoke4), smoke4 = ifelse((e4_dicg == 2 | e4_dicg == 3 | e4_dipi == 2 | e4_dipi == 3 | e4_dict == 1), 2, smoke4 ), smoke5 = ifelse(e5_EILF6 == 0 &amp; e5_EILFE == 0 &amp; e5_EILF5 == 0 &amp; e5_EILF4 == 0, 0, NA), smoke5 = ifelse(((e5_EILF6 == 0 &amp; e5_EILFE == 1) | e5_EILF5 == 1 | e5_EILF4 == 1 | e5_EILF4 == 2 | e5_EILF4 == 3 ), 1, smoke5 ), smoke5 = ifelse(( e5_EILF6 == 1 | e5_EILF5 == 2 | e5_EILF4 == 4 | e5_EILF4 == 5 | e5_EILF4 == 6 ), 2, smoke5 ), smoke6 = ifelse(( e6_EILF6 == 0 &amp; e6_EILSE5 == 0 &amp; e6_EILF5 == 0 &amp; e6_EILF4 == 0 ), 0, NA), smoke6 = ifelse(((e6_EILF6 == 0 &amp; (e6_EILSE5 == 1 | e6_EILSE5 == 2)) | e6_EILF5 == 1 | e6_EILF4 == 1 | e6_EILF4 == 2 | e6_EILF4 == 3 ), 1, smoke6 ), smoke6 = ifelse(( e6_EILF6 == 1 | e6_EILF5 == 2 | e6_EILF4 == 4 | e6_EILF4 == 5 | e6_EILF4 == 6 ), 2, smoke6 ) ) %&gt;% select(ergoid, smoke1, smoke2, smoke3, smoke4, smoke5, smoke6) rs2_smoke &lt;- rs2_smoke %&gt;% mutate( smoke3 = ifelse(ep_lf4 == 0 &amp; ep_lf5 == 0 &amp; ep_lf6 == 0 &amp; ep_lf6e == 0, 0, NA), smoke3 = ifelse(( ep_lf4 == 1 | ep_lf5 == 1 | (ep_lf6 == 0 &amp; ep_lf6e == 1) ), 1, smoke3), smoke3 = ifelse((ep_lf4 == 2 | ep_lf5 == 2 | ep_lf6 == 1), 2, smoke3), smoke4 = ifelse(e4_dicg == 0 &amp; e4_dipi == 0 &amp; e4_dict == 0, 0, NA), smoke4 = ifelse(( e4_dicg == 1 | e4_dipi == 1 | e4_dict == 2 | e4_dict == 3 ), 1, smoke4), smoke4 = ifelse((e4_dicg == 2 | e4_dicg == 3 | e4_dipi == 2 | e4_dipi == 3 | e4_dict == 1), 2, smoke4 ), smoke5 = ifelse(e5_EILF6 == 0 &amp; e5_EILFE == 0 &amp; e5_EILF5 == 0 &amp; e5_EILF4 == 0, 0, NA), smoke5 = ifelse(((e5_EILF6 == 0 &amp; e5_EILFE == 1) | e5_EILF5 == 1 | e5_EILF4 == 1 | e5_EILF4 == 2 | e5_EILF4 == 3 ), 1, smoke5 ), smoke5 = ifelse(( e5_EILF6 == 1 | e5_EILF5 == 2 | e5_EILF4 == 4 | e5_EILF4 == 5 | e5_EILF4 == 6 ), 2, smoke5 ), smoke6 = ifelse(e6_EILF6 == 0 &amp; e6_EILSE5 == 0 &amp; e6_EILF5 == 0 &amp; e6_EILF4 == 0, 0, NA), smoke6 = ifelse(((e6_EILF6 == 0 &amp; (e6_EILSE5 == 1 | e6_EILSE5 == 2)) | e6_EILF5 == 1 | e6_EILF4 == 1 | e6_EILF4 == 2 | e6_EILF4 == 3 ), 1, smoke6 ), smoke6 = ifelse(( e6_EILF6 == 1 | e6_EILF5 == 2 | e6_EILF4 == 4 | e6_EILF4 == 5 | e6_EILF4 == 6 ), 2, smoke6 ) ) %&gt;% select(ergoid, rs_cohort, smoke3, smoke4, smoke5, smoke6) rs3_smoke &lt;- rs3_smoke %&gt;% mutate( smoke4 = ifelse(ej_yilf4 == 0 &amp; ej_yilf5 == 0 &amp; ej_yilf6 == 0 &amp; ej_yilfe == 0, 0, NA), smoke4 = ifelse(( ej_yilf4 == 1 | ej_yilf4 == 2 | ej_yilf4 == 3 | ej_yilf5 == 1 | (ej_yilf6 == 0 &amp; ej_yilfe == 1) ), 1, smoke4 ), smoke4 = ifelse(( ej_yilf4 == 4 | ej_yilf4 == 5 | ej_yilf4 == 6 | ej_yilf5 == 2 | ej_yilf6 == 1 ), 2, smoke4 ), smoke5 = ifelse(e5_EILF6 == 0 &amp; e5_EILFE == 0 &amp; e5_EILF5 == 0 &amp; e5_EILF4 == 0, 0, NA), smoke5 = ifelse(((e5_EILF6 == 0 &amp; e5_EILFE == 1) | e5_EILF5 == 1 | e5_EILF4 == 1 | e5_EILF4 == 2 | e5_EILF4 == 3 ), 1, smoke5 ), smoke5 = ifelse(( e5_EILF6 == 1 | e5_EILF5 == 2 | e5_EILF4 == 4 | e5_EILF4 == 5 | e5_EILF4 == 6 ), 2, smoke5 ) ) %&gt;% select(ergoid, rs_cohort, smoke4, smoke5) Bind , the cohorts. Since the variable names are consistent through the datasets. smoke &lt;- rs1_smoke %&gt;% bind_rows(rs2_smoke) %&gt;% bind_rows(rs3_smoke) Export the variable to a clean_data folder. export(smoke, here::here(&quot;02_clean_data&quot;, &quot;smoke.Rdata&quot;)) "],
["smoke-cig.html", "Chapter 10 Smoke cigarettes", " Chapter 10 Smoke cigarettes Source: https://epi-wiki.erasmusmc.nl/wiki/ergowiki/index.php/Smoking Import data for all cohorts smoke1_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;e1_intvw_SMOKING_(23-nov-2011).sav&quot;)) smoke1_2 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;e2_intvw_SMOKING_(23-nov-2011).sav&quot;)) smoke1_3 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;e3_intvw_SMOKING_(11-nov-2011).sav&quot;)) smoke1_4 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;e4_intvw_SMOKING_(04-nov-2011).sav&quot;)) smoke1_5 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;e5_intvw_SMOKING_(04-sep-2014).sav&quot;)) smoke2_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;ep_intvw_SMOKING_(30-sep-2011).sav&quot;)) smoke3_1 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;ej_intvw_SMOKING_(28-mar-2011).sav&quot;)) smoke1_6 &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;smoke&quot;, &quot;e6_intvw_SMOKING_(20-feb-2017).sav&quot;)) Split datasets (same steps as in @(smoke): # 1. Separate smoke1_4 into rs1, rs2 smoke2_2 &lt;- smoke1_4 %&gt;% filter(rs_cohort == 2) smoke1_4 &lt;- smoke1_4 %&gt;% filter(rs_cohort == 1) # 2. Separate smoke1_5 into rs1, rs2, rs3 smoke3_2 &lt;- smoke1_5 %&gt;% filter(rs_cohort == 3) smoke2_3 &lt;- smoke1_5 %&gt;% filter(rs_cohort == 2) smoke1_5 &lt;- smoke1_5 %&gt;% filter(rs_cohort == 1) # 3. Separate smoke1_6 into rs1 and rs2 smoke1_6 &lt;- smoke1_6 %&gt;% filter(rs_cohort == 1) smoke2_4 &lt;- smoke1_6 %&gt;% filter(rs_cohort == 2) Merge the data for all visits, by cohort: ### Merge RSI smoke1 &lt;- list(smoke1_1, smoke1_2, smoke1_3, smoke1_4, smoke1_5, smoke1_6) rs1_smoke&lt;- reduce(smoke1, left_join, by = c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) ### Merge RS2 smoke2 &lt;- list(smoke2_1, smoke2_2, smoke2_3, smoke2_4) rs2_smoke &lt;- reduce(smoke2, left_join, by = c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) ### Merge RS3 rs3_smoke &lt;- smoke3_1 %&gt;% left_join(smoke3_2, by= c(&quot;ergoid&quot;, &quot;rs_cohort&quot;)) Create variable smoke_cig (0: never, 1: former, 2: current, NA) using only the questions related to smoking cigarettes. rs1_cig &lt;- rs1_smoke %&gt;% mutate( smoke_cig1 = ifelse((e1_ai7_20 == 0 &amp; e1_ai7_30 == 0), 0, NA), smoke_cig1 = ifelse((e1_ai7_20 == 0 &amp; e1_ai7_30 == 1), 1, smoke_cig1), smoke_cig1 = ifelse(e1_ai7_20 == 1, 2, smoke_cig1), smoke_cig2 = ifelse(e2_b0ct == 3, 0, NA), smoke_cig2 = ifelse(e2_b0ct == 2, 1, smoke_cig2), smoke_cig2 = ifelse(e2_b0ct == 1, 2, smoke_cig2), smoke_cig3 = ifelse((e3_cict == 0 &amp; e3_cictps == 0), 0, NA), smoke_cig3 = ifelse((e3_cict == 0 &amp; e3_cictps == 1), 1, smoke_cig3), smoke_cig3 = ifelse(e3_cict == 1, 2, smoke_cig3), smoke_cig4 = ifelse(e4_dict == 0, 0, NA), smoke_cig4 = ifelse((e4_dict == 2 | e4_dict == 3), 1, smoke_cig4), smoke_cig4 = ifelse(e4_dict == 1, 2, smoke_cig4), smoke_cig5 = ifelse(e5_EILF6 == 0 &amp; e5_EILFE == 0, 0, NA), smoke_cig5 = ifelse((e5_EILF6 == 0 &amp; e5_EILFE == 1), 1, smoke_cig5), smoke_cig5 = ifelse(e5_EILF6 == 1, 2, smoke_cig5), smoke_cig6 = ifelse((e6_EILF6 == 0 &amp; e6_EILSE5 == 0), 0, NA), smoke_cig6 = ifelse(( e6_EILF6 == 0 &amp; (e6_EILSE5 == 1 | e6_EILSE5 == 2) ), 1, smoke_cig6), smoke_cig6 = ifelse((e6_EILF6 == 1), 2, smoke_cig6) ) %&gt;% select(ergoid, starts_with(&quot;smoke_cig&quot;)) rs2_cig &lt;- rs2_smoke %&gt;% mutate( smoke_cig3 = ifelse((ep_lf6 == 0 &amp; ep_lf6e == 0), 0, NA), smoke_cig3 = ifelse((ep_lf6 == 0 &amp; ep_lf6e == 1), 1, smoke_cig3), smoke_cig3 = ifelse(ep_lf6 == 1, 2, smoke_cig3), smoke_cig4 = ifelse(e4_dict == 0, 0, NA), smoke_cig4 = ifelse((e4_dict == 2 | e4_dict == 3), 1, smoke_cig4), smoke_cig4 = ifelse(e4_dict == 1, 2, smoke_cig4), smoke_cig5 = ifelse(e5_EILF6 == 0 &amp; e5_EILFE == 0, 0, NA), smoke_cig5 = ifelse((e5_EILF6 == 0 &amp; e5_EILFE == 1), 1, smoke_cig5), smoke_cig5 = ifelse(e5_EILF6 == 1, 2, smoke_cig5), smoke_cig6 = ifelse((e6_EILF6 == 0 &amp; e6_EILSE5 == 0), 0, NA), smoke_cig6 = ifelse(( e6_EILF6 == 0 &amp; (e6_EILSE5 == 1 | e6_EILSE5 == 2) ), 1, smoke_cig6), smoke_cig6 = ifelse((e6_EILF6 == 1), 2, smoke_cig6) ) %&gt;% select(ergoid, starts_with(&quot;smoke_cig&quot;)) rs3_cig &lt;- rs3_smoke %&gt;% mutate( smoke_cig4 = ifelse(ej_yilf6 == 0 &amp; ej_yilfe == 0, 0, NA), smoke_cig4 = ifelse(ej_yilf6 == 0 &amp; ej_yilfe == 1, 1, smoke_cig4), smoke_cig4 = ifelse(ej_yilf6 == 1, 2, smoke_cig4), smoke_cig5 = ifelse((e5_EILF6 == 0 &amp; e5_EILFE == 0), 0, NA), smoke_cig5 = ifelse((e5_EILF6 == 0 &amp; e5_EILFE == 1), 1, smoke_cig5), smoke_cig5 = ifelse(e5_EILF6 == 1, 2, smoke_cig5) ) %&gt;% select(ergoid, smoke_cig4, smoke_cig5) Bind , the cohorts. Since the variable names are consistent through the datasets. smoke_cig &lt;- rs1_cig %&gt;% bind_rows(rs2_cig) %&gt;% bind_rows(rs3_cig) Export the variable to a clean_data folder. export(smoke_cig, here::here(&quot;02_clean_data&quot;, &quot;smoke_cig.Rdata&quot;)) "],
["ht.html", "Chapter 11 Hypertension", " Chapter 11 Hypertension Source: https://epi-wiki.erasmusmc.nl/wiki/ergowiki/index.php/Hypertension Import data for all cohorts ht &lt;- read_sav(here::here(&quot;00_raw_data&quot;, &quot;hypertension&quot;, &quot;HT2018_analysisfile_(15-may-2018).sav&quot;)) Split datasets: # 1. Separate hypertension for RS-I, RS-II and RS-III ht1 &lt;- ht %&gt;% filter(rs_cohort == 1) ht2 &lt;- ht %&gt;% filter(rs_cohort == 2) ht3 &lt;- ht %&gt;% filter(rs_cohort == 3) Select and rename variables: ht1 &lt;- ht %&gt;% select(ergoid, contains(&quot;systolicBP&quot;), contains(&quot;diastolicBP&quot;), contains(&quot;HT2018&quot;), contains(&quot;bpldrug&quot;)) %&gt;% rename( sbp1 = e1_systolicBP, sbp2 = e2_systolicBP, sbp3 = e3_systolicBP, sbp4 = e4_systolicBP, sbp5 = e5_systolicBP, sbp6 = e6_systolicBP, dbp1 = e1_diastolicBP, dbp2 = e2_diastolicBP, dbp3 = e3_diastolicBP, dbp4 = e4_diastolicBP, dbp5 = e5_diastolicBP, dbp6 = e6_diastolicBP, ht1 = e1_HT2018, ht2 = e2_HT2018, ht3 = e3_HT2018, ht4 = e4_HT2018, ht5 = e5_HT2018, ht6 = e6_HT2018, htdrug1 = e1_bpldrug, htdrug2 = e2_bpldrug, htdrug3 = e3_bpldrug, htdrug4 = e4_bpldrug, htdrug5 = e5_bpldrug, htdrug6 = e6_bpldrug ) ht2 &lt;- ht %&gt;% select(ergoid, contains(&quot;systolicBP&quot;), contains(&quot;diastolicBP&quot;), contains(&quot;HT2018&quot;), contains(&quot;bpldrug&quot;)) %&gt;% rename( sbp3 = ep_systolicBP, sbp4 = e4_systolicBP, sbp5 = e5_systolicBP, sbp6 = e6_systolicBP, dbp3 = ep_diastolicBP, dbp4 = e4_diastolicBP, dbp5 = e5_diastolicBP, dbp6 = e6_diastolicBP, ht3 = ep_HT2018, ht4 = e4_HT2018, ht5 = e5_HT2018, ht6 = e6_HT2018, htdrug3 = ep_bpldrug, htdrug4 = e4_bpldrug, htdrug5 = e5_bpldrug, htdrug6 = e6_bpldrug ) ht3 &lt;- ht %&gt;% filter(rs_cohort == 3) %&gt;% select(ergoid, contains(&quot;systolicBP&quot;), contains(&quot;HT2018&quot;)) %&gt;% rename( sbp4 = ej_systolicBP, sbp5 = e5_systolicBP, ht4 = ej_HT2018, ht5 = e5_HT2018) Bind , the cohorts. Since the variable names are consistent through the datasets. smoke_cig &lt;- rs1_cig %&gt;% bind_rows(rs2_cig) %&gt;% bind_rows(rs3_cig) Export the variable to a clean_data folder. export(smoke_cig, here::here(&quot;02_clean_data&quot;, &quot;smoke_cig.Rdata&quot;)) "],
["lab.html", "Chapter 12 Laboratory data", " Chapter 12 Laboratory data Source: https://epi-wiki.erasmusmc.nl/wiki/ergowiki/index.php/Cholesterol We included cholesterol and hdl since they were sistematically collected across visits for all cohorts. Note: There are no laboratory data for visit RS-I-2 Glucose has the subfix: v3846, but since it was collected in different ways and not in all waves, we donâ€™t include it, but it could be collected using the same code. Import data for all cohorts chol1_1 &lt;- import(here::here(&quot;00_raw_data&quot;, &quot;cholesterol&quot;, &quot;e1_CHOLESTEROL_(10.03.2010).sav&quot;)) chol1_3 &lt;- import(here::here(&quot;00_raw_data&quot;, &quot;cholesterol&quot;, &quot;e3_(3)_LAB_(10-mar-2010).sav&quot;)) chol1_4 &lt;- import(here::here(&quot;00_raw_data&quot;, &quot;cholesterol&quot;, &quot;e4_(4)_LAB_(10-mar-2010)b.sav&quot;)) chol1_5 &lt;- import(here::here(&quot;00_raw_data&quot;, &quot;cholesterol&quot;, &quot;e5_(5)_LAB_(29-aug-2014)r.sav&quot;)) chol2_1 &lt;- import(here::here(&quot;00_raw_data&quot;, &quot;cholesterol&quot;, &quot;ep_(1)_LAB_(15-mar-2010).sav&quot;)) chol3_1 &lt;- import(here::here(&quot;00_raw_data&quot;, &quot;cholesterol&quot;, &quot;ej_(1)_LAB_(11-jun-2009)r.sav&quot;)) Split datasets: # 1. Separate chol1_4 into rs1, rs2, rs3 chol2_2 &lt;- chol1_4 %&gt;% filter(rs_cohort == 2) chol1_4 &lt;- chol1_4 %&gt;% filter(rs_cohort == 1) # 2. Separate chol1_5 into rs1, rs2, rs3 chol3_2 &lt;- chol1_5 %&gt;% filter(rs_cohort == 3) chol2_3 &lt;- chol1_5 %&gt;% filter(rs_cohort == 2) chol1_5 &lt;- chol1_5 %&gt;% filter(rs_cohort == 1) # 3. Separate chol1_6 into rs1 and rs2 # Not available Merge the data for all visits, by cohort: ### Merge RSI chol1 &lt;- list(chol1_1, chol1_3, chol1_4, chol1_5)#, chol1_6) rs1_chol &lt;- reduce(chol1, left_join, by = c(&quot;ergoid&quot;)) ### Merge RSII chol2 &lt;- list(chol2_1, chol2_2, chol2_3)#,chol2_4) rs2_chol &lt;- reduce(chol2, left_join, by = c(&quot;ergoid&quot;)) ### Merge RSIII chol3 &lt;- list(chol3_1, chol3_2) rs3_chol &lt;- reduce(chol3, left_join, by = c(&quot;ergoid&quot;)) Select and rename variables: rs1_chol &lt;- rs1_chol %&gt;% select(ergoid, e1_al7_chl, e1_al7_hdl, ends_with(&quot;_3845&quot;), ends_with(&quot;_4107&quot;)) %&gt;% rename(chol1 = e1_al7_chl, chol3 = e3_3845, chol4 = e3_3845, chol5 = e5_3845, hdl1 = e1_al7_hdl, hdl3 = e3_4107, hdl4 = e4_4107, hdl5 = e5_4107) rs2_chol &lt;- rs2_chol %&gt;% select(ergoid, ends_with(&quot;_3845&quot;), ends_with(&quot;_4107&quot;)) %&gt;% rename(chol3 = ep_3845, chol4 = e4_3845, chol5 = e5_3845, hdl3 = ep_4107, hdl4 = e4_4107, hdl5 = e5_4107) rs3_chol &lt;- rs3_chol %&gt;% select(ergoid, ends_with(&quot;_3845&quot;), ends_with(&quot;_4107&quot;)) %&gt;% rename(chol4 = ej_3845, chol5 = e5_3845, hdl4 = ej_4107, hdl5 = e5_4107) Bind , the cohorts. Since the variable names are consistent through the datasets. chol &lt;- rs1_chol %&gt;% bind_rows(rs2_chol) %&gt;% bind_rows(rs3_chol) Export the variable to a clean_data folder. export(chol, here::here(&quot;02_clean_data&quot;, &quot;chol.Rdata&quot;)) "]
]
